<?xml version="1.0"?><?xml-stylesheet type="text/xml" href="#stylesheet"?><!DOCTYPE doc SYSTEM "doc.dtd"><doc>

<data>

<div><h2>Tickets Listed in #126920: 5.22.2 blockers</h2>

<commit votes="steveh" id="e1ccd2206d2572b12ff2ad8efe6b1370c580898f" ticket="126981" desc="Enforce strict 'subs' in multideref optimisation"/>

(steveh: This doesn't apply cleanly. I've asked khw for assistance:)
<commit votes="steveh, tux" id="ac33c516140ee213a8a20ada506f97b3a7776ae4" ticket="127537" desc="PATCH: [perl 127537] /\W/ regression with UTF-8"/>

</div>

<div><h2>Other Proposed Cherry-Picks</h2>

Blead changes have been examined up to and including 389f4c1ef819a38480243c17f0b35a2f088cd855 (harmonize S_dump_exec_pos()'s last arg type)

Proposed cherry-picks are grouped according to the types of change permitted by perlpolicy.pod.

(NOTE: The same document states that the following types of change are not acceptable:

Anything controversial
Breaking binary compatibility
Adding or removing features
Adding new warnings, errors or deprecations

The same criteria apply to code in dual-life modules as to core code.)

</div>

<div><h3>Security Fixes</h3>

</div>

<div><h3>Crash / Assertion / Memory Corruption Fixes</h3>

<commit votes="" id="" ticket="123878" desc=""/>

<commit votes="steveh" id="0403a1ad8ff01aaac2d09a986ea6bb5210472459" ticket="126325" desc="[perl #126325] don't read past the end of the source for pack [Hh]"/>
<commit votes="steveh" id="cf69025fa87b76cf2f1859253fb3313ffd5b7e48" ticket="126602" desc="[perl #126602] make sure targ isn't freed from under us"/>
<commit votes="steveh" id="9e59c36b452568c56b99957f02b853c42e280f8a" ticket="126193" desc="[perl #126193] don't use a trash SV if no indexes are provided to pp_lslice"/>
<commit votes="steveh" id="09681a13f07600082e5a7efbc9c978f62b24c502" ticket="126258" desc="op_free(): don't assert op_private ok when erred"/>
<commit votes="steveh" id="04106f2e5c6e8162bd22fd9c7505096116e483cd" ticket="126257" desc="assertion failure on foo(my $x : bar)"/>
<commit votes="steveh" id="e8c18a8486f7e900511cc2df8d2617ceab9ce437" ticket="126480" desc="[perl #126480] pipe() doesn't need the assertions"/>
<commit votes="steveh" id="d3b9036e206e03f8b788b7eecad735d30f355745" ticket="126443" desc="[perl #126443] make sure PL_oldbufptr is preserved in scan_heredoc()"/>
<commit votes="steveh" id="a934a4a7d4fa99d522e169b921286755a0f8d248" ticket="126845" desc="Remove unwarranted assertion in Perl_newATTRSUB_x()"/>
<commit votes="steveh" id="0cd52e23ae641a766983833dc8b37b743474be9e" ticket="126042" desc="[perl #126042] handle scalar context for a missing import/unimport call"/>
<commit votes="steveh" id="a7162bf74f38a7ede2efc930a958560392ce092f" ticket="123737" desc="[perl #123737] delay reporting a missing operator for arrays"/>
<commit votes="steveh" id="61d30259f32e5bba52238d60608b6909208eb604" ticket="123737" desc="[perl #123737] handle a non-identifer after @ better for a missing op"/>
<commit votes="steveh" id="23c4e91245a43fb7bbe5215e27ca989e3b410552" ticket="125540" desc="[perl #125540] handle already being at EOF while not finding a heredoc terminator"/>

<commit votes="steveh" id="27895dda808516d2e00748a19f6648febae7161f" ticket="126410" desc="Document broken SvSTASH for %version:: in B's test suite"/>
<commit votes="steveh" id="ac3b837b9e1b412c93837ea13eacd367439264ec" ticket="126410" desc="[perl #126410] keep the DESTROY cache in mro_meta"/>

<commit votes="steveh" id="1bb1a3d6d354f67d1158693a799cb49037d27475" ticket="127334" desc="[perl #127334] S_incline: avoid overrunning the end of the parse buffer"/>
<commit votes="steveh" id="ca76e4e9adfa1629d8fee4608cbeab9d9ba91ed3" ticket="126141" desc="PATCH: [perl #126141]: qr/]]]]][\\/ fails to raise error"/>
<commit votes="steveh" id="710740a6ed7f31a3bcc5f991f3cb7b55fed8a68e" ticket="127262" desc="PATCH: [perl #127262] assertion fail on malformed UTF8"/>

<commit votes="steveh" id="b297756b5d78ef23f3ebf878d0342947ece424aa" ticket="126405" desc="regcomp.c: fix Perl #126405, segfault regex"/>
<commit votes="steveh" id="80edda0d5872f642d1b92e7581eb0882e59b9c2e" ticket="126405" desc="Add test for [perl #126405]"/>

<commit votes="steveh" id="944e05e3d149b21eef2ceb8d255da390afb267a2" ticket="126206" desc="Fix Perl #126206: handle NOTHING regops and EXACTFU_SS regops in make_trie() properly"/>

</div>

<div><h3>Regression Fixes</h3>

(arc: This regression was introduced in 5.10.0. Yow!)
(steveh: May not cherry-pick this yet since demerphq had hoped to investigate any possible performance issues with the fix first:)
<commit votes="steveh, arc, khw" id="0f8d761c4673440b49eeb491136a67dcf3da7400" ticket="126222" desc="Add a todo test for perl-126222"/>
<commit votes="steveh, arc, khw" id="6625d92602279361acd0c6185b78c6d201fd81e0" ticket="126222" desc="fix perl-126222 - (?!) OPFAIL optimization does work in (?(?!)yes|no)"/>

<commit votes="steveh" id="a82f4918f5debccfb7e9a7047d2c2e558df538cd" ticket="126481" desc="PATCH: [perl #126481] panic for !! with syntax error in /(?[...])/"/>

(steveh: jhi suggested picking dde155d before eba9828:)
<commit votes="jhi, steveh" id="dde155d03acf6c9ecbaf478c3dd7ed9d4fb6e930" ticket="" desc="hexfp: if HEXFP_NV the shift2 is unused"/>
<commit votes="jhi, steveh" id="eba98284740b799def26803ebac340aaa8930437" ticket="127183" desc="[perl #127183] Non-canonical hexadecimal floats are parsed prematurely"/>

<commit votes="steveh, tux" id="e57270be442bfaa9dc23eebd67485e5a806b44e3" ticket="127322" desc="Fix umask for mkstemp(3) calls"/>

(steveh: If the #124387 changes are applied then the #127494 changes must also be applied:)
<commit votes="steveh" id="f05081b8ef229712c83a6f19b217489cf5e5ab25" ticket="124387" desc="[perl #124387] TODO test for AUTOLOAD on DESTROY"/>
<commit votes="steveh" id="000814da477053c7627c7ace5ca3ce3d4c4aad08" ticket="124387" desc="[perl #124387] call AUTOLOAD when DESTROY isn't defined"/>
<commit votes="steveh" id="7db8c4f1f19e6f855107ec990507a1a9cb0f59a6" ticket="127494" desc="[perl #127494] TODO test for $AUTOLOAD being set for DESTROY"/>
<commit votes="steveh" id="958cdeac409681891afe77bf60db047296523465" ticket="127494" desc="[perl #127494] don't cache AUTOLOAD as DESTROY"/>

</div>

<div><h3>New Feature Fixes</h3>

</div>

<div><h3>Build and Installation Fixes</h3>

<commit votes="jhi, tux" id="b5897239a0c3c2f5ec699690086b30e7db4305d4" ticket="" desc="Configure: cannot trust the bytes after the 80-bit fp"/>
<commit votes="jhi, tux" id="3118d7d684b56cbeb702af874f4326683c45f045" ticket="" desc="Configure: mixed-endian double-doubles"/>

(steveh: These two don't apply cleanly and I'm inclined to leave them out unless somebody wants to prepare a version applicable to maint:)
<commit votes="steveh" id="99fff99d79aa793bf9a6e0ce2bb18ced085ad1e2" ticket="127619" desc="util.c: make my_mem*/my_b* prototypes more like the originals"/>
<commit votes="steveh" id="af4291a85942657772fedc3db017e89100bd916a" ticket="127619" desc="make building without memcpy work (RT #127619)"/>

<commit votes="steveh" id="c2538af7458bf317cdc7bc684f65831744010d80" ticket="122287" desc="[perl #122287] probe in Configure whether dtrace builds an object"/>

</div>

<div><h3>Portability Fixes</h3>

<commit votes="tonyc" id="d691474c4cf3d3119367a72ebb28a990d039baf3" ticket="126922" desc="avoid access to uninitialized memory in win32 crypt()" />

<commit votes="steveh, tux" id="e3962106e93fa80bf960e71ac7c7727e7e15eee8" ticket="126240" desc="[perl #126240] use -DPERL_USE_SAFE_PUTENV where possible on OS X"/>
<commit votes="steveh, tux" id="12ffbb10fe94c82dda90efa15d691ababa5b8b8f" ticket="126240" desc="[perl #126240] avoid leaking memory when setting $ENV{foo} on darwin"/>

</div>

<div><h3>Platform-Specific Test Fixes</h3>

(steveh: This one doesn't apply cleanly and I'm inclined to leave it out unless somebody wants to prepare a version applicable to maint:)
<commit votes="jhi, steveh" id="a4570f51dba109184d92dcbb0612242d942856fc" ticket="124212" desc="Workaround for perl #124212: these functions are not true static inline"/>

<commit votes="steveh" id="35ff3d7deb0d8004539a00980bb69ece71275982" ticket="" desc="hexfp: all ppc/powerpc-ld linux tailbits difference in exp(1)"/>

</div>

<div><h3>Documentation Fixes</h3>

<commit votes="steveh, tux" id="fc61cbf574ad7402fb8b5462426e43d38d0c9a1d" ticket="126437" desc="perlfunc: specify valid inputs precisely [perl #126437]"/>
<commit votes="steveh, tux" id="0ff57aee45f10b3b7f1fe376f32d2dd4fc9a9848" ticket="126245" desc="fix the API description of SvLEN_set()"/>
<commit votes="steveh, tux" id="74bfae2735a1a8db05a542cdfe297a20fd5a113f" ticket="" desc="Fix use of == to compare strings in perlref.pod"/>
<commit votes="steveh, tux" id="d5eedefea11231da8139c9478d2c9069346b6560" ticket="126544" desc="[perl #126544] correct the first example in the fcntl documentation"/>

</div>

</data>

<xsl:stylesheet version="1.0" id="stylesheet" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:template match="xsl:stylesheet"/>
  <xsl:template match="/">
    <html>
      <head>
        <title>Cherry-pick votes for maint-5.22</title>
        <style>
          .accepted .ref a { color: #090 }
          .unvoted  .ref a { color: #c00 }
        </style>
      </head>
      <body>
        <h1>Cherry-pick votes for maint-5.22</h1>
        <xsl:for-each select="/doc/data/div">
          <h2><xsl:value-of select="h2"/></h2>
          <h3><xsl:value-of select="h3"/></h3>
          <table>
            <xsl:for-each select="commit|head">
              <xsl:choose>
                <xsl:when test="local-name() = 'commit'">
                  <tr>
                    <xsl:apply-templates select="@votes"/>
                    <td style="vertical-align: top; white-space: nowrap">
                      <xsl:value-of select="@votes"/>
                    </td>
                    <td class="ref" style="vertical-align: top">
                      <a href="http://perl5.git.perl.org/perl.git/commitdiff/{@id}">
                        <xsl:value-of select="@id"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <a href="https://rt.perl.org/Ticket/Display.html?id={@ticket}">
                        <xsl:value-of select="@ticket"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <xsl:value-of select="@desc"/>
                    </td>
                  </tr>
                </xsl:when>
                <xsl:when test="local-name() = 'head'">
                  <tr>
                    <xsl:apply-templates select="@votes"/>
                    <td style="vertical-align: top; white-space: nowrap">
                      <xsl:value-of select="@votes"/>
                    </td>
                    <td class="ref" style="vertical-align: top">
                      <a href="http://perl5.git.perl.org/perl.git/shortlog/refs/heads/{@branch}">
                        <xsl:value-of select="@branch"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <a href="https://rt.perl.org/Ticket/Display.html?id={@ticket}">
                        <xsl:value-of select="@ticket"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <xsl:value-of select="@desc"/>
                    </td>
                  </tr>
                </xsl:when>
              </xsl:choose>
            </xsl:for-each>
          </table>
        </xsl:for-each>
      </body>
    </html>
  </xsl:template>
  <xsl:template match="@votes">
    <xsl:choose>
      <xsl:when test=". = ''">
        <xsl:attribute name="class">unvoted</xsl:attribute>
      </xsl:when>
      <xsl:when test="substring-after(substring-after(normalize-space(translate(., ',', ' ')), ' '), ' ') != ''">
        <xsl:attribute name="class">accepted</xsl:attribute>
      </xsl:when>
    </xsl:choose>
  </xsl:template>
</xsl:stylesheet>

</doc>
