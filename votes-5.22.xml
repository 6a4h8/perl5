<?xml version="1.0"?><?xml-stylesheet type="text/xml" href="#stylesheet"?><!DOCTYPE doc SYSTEM "doc.dtd"><doc>

<data>

<div><h2>Tickets Listed in #126920: 5.22.2 blockers</h2>

<commit votes="steveh" id="e1ccd2206d2572b12ff2ad8efe6b1370c580898f" ticket="126981" desc="Enforce strict 'subs' in multideref optimisation"/>

(steveh: This doesn't apply cleanly. I've asked khw for assistance:)
<commit votes="steveh, tux" id="ac33c516140ee213a8a20ada506f97b3a7776ae4" ticket="127537" desc="PATCH: [perl 127537] /\W/ regression with UTF-8"/>

</div>

<div><h2>Other Proposed Cherry-Picks</h2>

Blead changes have been examined up to and including 389f4c1ef819a38480243c17f0b35a2f088cd855 (harmonize S_dump_exec_pos()'s last arg type)

Proposed cherry-picks are grouped according to the types of change permitted by perlpolicy.pod.

(NOTE: The same document states that the following types of change are not acceptable:

Anything controversial
Breaking binary compatibility
Adding or removing features
Adding new warnings, errors or deprecations

The same criteria apply to code in dual-life modules as to core code.)

</div>

<div><h3>Security Fixes</h3>

</div>

<div><h3>Crash / Assertion / Memory Corruption Fixes</h3>

<commit votes="" id="" ticket="123878" desc=""/>

<commit votes="steveh, jhi" id="a934a4a7d4fa99d522e169b921286755a0f8d248" ticket="126845" desc="Remove unwarranted assertion in Perl_newATTRSUB_x()"/>

(steveh: Not a crash or memory corruption fix, but goes some way to helping the memory usage problem in #126182, which is equally as serious as a crash,
but the series of fixes for which may not be suitable for maint-5.22, at least at this stage:)
<commit votes="steveh, khw" id="6f8848d55c2ea11b7ed7f8cf1afb2d6a28c76e4d" ticket="" desc="reduce number of calls to add_cp_to_invlist()"/>

</div>

<div><h3>Regression Fixes</h3>

(arc: This regression was introduced in 5.10.0. Yow!)
(steveh: May not cherry-pick this yet since demerphq had hoped to investigate any possible performance issues with the fix first:)
<commit votes="steveh, arc, khw" id="0f8d761c4673440b49eeb491136a67dcf3da7400" ticket="126222" desc="Add a todo test for perl-126222"/>
<commit votes="steveh, arc, khw" id="6625d92602279361acd0c6185b78c6d201fd81e0" ticket="126222" desc="fix perl-126222 - (?!) OPFAIL optimization does work in (?(?!)yes|no)"/>

<commit votes="steveh, khw" id="a82f4918f5debccfb7e9a7047d2c2e558df538cd" ticket="126481" desc="PATCH: [perl #126481] panic for !! with syntax error in /(?[...])/"/>

(steveh: If the #124387 changes are applied then the #127494 changes must also be applied:)
(tonyc: these changes break CPAN modules that don't expect AUTOLOAD to be called for DESTROY (which it hadn't since 5.18), see https://rt.perl.org/Ticket/Display.html?id=127494#txn-1392066 - they may also break darkpan code.)
<commit votes="steveh" id="f05081b8ef229712c83a6f19b217489cf5e5ab25" ticket="124387" desc="[perl #124387] TODO test for AUTOLOAD on DESTROY"/>
<commit votes="steveh" id="000814da477053c7627c7ace5ca3ce3d4c4aad08" ticket="124387" desc="[perl #124387] call AUTOLOAD when DESTROY isn't defined"/>
<commit votes="steveh" id="7db8c4f1f19e6f855107ec990507a1a9cb0f59a6" ticket="127494" desc="[perl #127494] TODO test for $AUTOLOAD being set for DESTROY"/>
<commit votes="steveh" id="958cdeac409681891afe77bf60db047296523465" ticket="127494" desc="[perl #127494] don't cache AUTOLOAD as DESTROY"/>

</div>

<div><h3>New Feature Fixes</h3>

</div>

<div><h3>Build and Installation Fixes</h3>

(steveh: These two don't apply cleanly and I'm inclined to leave them out unless somebody wants to prepare a version applicable to maint:)
<commit votes="steveh" id="99fff99d79aa793bf9a6e0ce2bb18ced085ad1e2" ticket="127619" desc="util.c: make my_mem*/my_b* prototypes more like the originals"/>
<commit votes="steveh" id="af4291a85942657772fedc3db017e89100bd916a" ticket="127619" desc="make building without memcpy work (RT #127619)"/>

</div>

<div><h3>Portability Fixes</h3>

</div>

<div><h3>Platform-Specific Test Fixes</h3>

<commit votes="jhi, steveh" id="35ff3d7deb0d8004539a00980bb69ece71275982" ticket="" desc="hexfp: all ppc/powerpc-ld linux tailbits difference in exp(1)"/>

(steveh: Note: I have a backport of this that applies to maint-5.22, supplied by jhi. to clarify: this change is about "static inline" functions, these functions really aren't -- so while this platform specific fix, it because the C compiler is stricter than most.)
<commit votes="jhi, steveh" id="a4570f51dba109184d92dcbb0612242d942856fc" ticket="124212" desc="Workaround for perl #124212: these functions are not true static inline"/>

<commit votes="steveh" id="9234e5bdb7cb62dbf09ea4fd4ae5f3831cf78890" ticket="127533" desc="[perl #127533] only test semctl() if we have everything needed to use it"/>

</div>

<div><h3>Documentation Fixes</h3>

</div>

</data>

<xsl:stylesheet version="1.0" id="stylesheet" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:template match="xsl:stylesheet"/>
  <xsl:template match="/">
    <html>
      <head>
        <title>Cherry-pick votes for maint-5.22</title>
        <style>
          .accepted .ref a { color: #090 }
          .unvoted  .ref a { color: #c00 }
        </style>
      </head>
      <body>
        <h1>Cherry-pick votes for maint-5.22</h1>
        <xsl:for-each select="/doc/data/div">
          <h2><xsl:value-of select="h2"/></h2>
          <h3><xsl:value-of select="h3"/></h3>
          <table>
            <xsl:for-each select="commit|head">
              <xsl:choose>
                <xsl:when test="local-name() = 'commit'">
                  <tr>
                    <xsl:apply-templates select="@votes"/>
                    <td style="vertical-align: top; white-space: nowrap">
                      <xsl:value-of select="@votes"/>
                    </td>
                    <td class="ref" style="vertical-align: top">
                      <a href="http://perl5.git.perl.org/perl.git/commitdiff/{@id}">
                        <xsl:value-of select="@id"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <a href="https://rt.perl.org/Ticket/Display.html?id={@ticket}">
                        <xsl:value-of select="@ticket"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <xsl:value-of select="@desc"/>
                    </td>
                  </tr>
                </xsl:when>
                <xsl:when test="local-name() = 'head'">
                  <tr>
                    <xsl:apply-templates select="@votes"/>
                    <td style="vertical-align: top; white-space: nowrap">
                      <xsl:value-of select="@votes"/>
                    </td>
                    <td class="ref" style="vertical-align: top">
                      <a href="http://perl5.git.perl.org/perl.git/shortlog/refs/heads/{@branch}">
                        <xsl:value-of select="@branch"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <a href="https://rt.perl.org/Ticket/Display.html?id={@ticket}">
                        <xsl:value-of select="@ticket"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <xsl:value-of select="@desc"/>
                    </td>
                  </tr>
                </xsl:when>
              </xsl:choose>
            </xsl:for-each>
          </table>
        </xsl:for-each>
      </body>
    </html>
  </xsl:template>
  <xsl:template match="@votes">
    <xsl:choose>
      <xsl:when test=". = ''">
        <xsl:attribute name="class">unvoted</xsl:attribute>
      </xsl:when>
      <xsl:when test="substring-after(substring-after(normalize-space(translate(., ',', ' ')), ' '), ' ') != ''">
        <xsl:attribute name="class">accepted</xsl:attribute>
      </xsl:when>
    </xsl:choose>
  </xsl:template>
</xsl:stylesheet>

</doc>
