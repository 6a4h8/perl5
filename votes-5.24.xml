<?xml version="1.0"?><?xml-stylesheet type="text/xml" href="#stylesheet"?><!DOCTYPE doc SYSTEM "doc.dtd"><doc>

<data>

<div><h2>Tickets Listed in #128222: 5.24.2 blockers</h2>

This was a regression in 5.12. -arc
<commit votes="sprout arc" id="f15d05806fb7522031b75cb5a8784727ae03b98a" ticket="127952" desc="[perl #127952] misoptimization for negated constant-ish on lhs of logop" />

<commit votes="sprout arc" id="60a26c797bbff039ea7f861903732e7cceae415a" ticket="128086" desc="[perl #128086] Fix precedence in hv_ename_delete" />
<commit votes="sprout arc" id="7f1bd063e5aa5aeb26ed9c39db6864cc0ecd7a73" ticket="128086" desc="[perl #128086] Test the prev commit" />

This one does not fix a crash, but merely fixed bad debugging output that confused me when I (sprout) was fixing #128086.  Does it really belong here?
<commit votes="" id="8e5993c4dcf9a5b7c84224dd04946a4e49ec96fe" ticket="128086" desc="Dump empty-string ENAMEs as empty strings" />

<commit votes="sprout arc" id="fcd130693a9e7a753f63a08691ff619ad91bf8eb" ticket="128106" desc="[perl #128106] Fix reset with non-globs" />
<commit votes="jhi arc" id="adec5bbf0b66ee5ebc2ba80eda2389bb68e23d86" ticket="128131" desc="fix symbol detection with gcc 6 link-time optimization (RT #128131)" />
<commit votes="sprout arc" id="d674449463a15ac3f36086e3a0bb3a9d02729887" ticket="128171" desc="[perl #128171] Fix assert fail with /@0{0*->@*/*0" />
<commit votes="sprout arc" id="76734a3218e712760695898e424c2369ccdd49c6" ticket="128204" desc="[perl #128204] Fix crash with @a &amp;.= etc." />
<commit votes="sprout arc" id="4cb26c52ed90189e6e3564a4654b869fe4c4d3e6" ticket="128219" desc="PATCH: [perl #128219] typo in perlrecharclass" />

</div>

<div><h2>Other Proposed Cherry-Picks</h2>

<!--Blead changes have been examined up to and including be2c0c650b028f54e427f2469a59942edfdff8a9 (final commit for v5.24.0!)-->

Proposed cherry-picks are grouped according to the types of change permitted by perlpolicy.pod.

(NOTE: The same document states that the following types of change are not acceptable:

Anything controversial
Breaking binary compatibility
Adding or removing features
Adding new warnings, errors or deprecations

The same criteria apply to code in dual-life modules as to core code.)

</div>

<div><h3>Security Fixes</h3>

</div>

<div><h3>Crash / Assertion / Memory Corruption Fixes</h3>

<commit votes="sprout arc" id="a2637ca0a3fec01b80d7ea5ba62802354fd5e6f3" ticket="128597" desc="[perl #128597] Crash from gp_free/ckWARN_d"/>

This one needs the version in ext/POSIX/lib/POSIX.pm bumped to 1.65_01:
<commit votes="sprout arc" id="d80a6052a64d2df61ee61888853ef5f3872c0e34" ticket="128763" desc="[perl #128763] Fix POSIX.xs longdbl assertion"/>

<commit votes="sprout arc" id="bf8a9a15ea4a7b7ebcde5ba48aafe397c549eff2" ticket="128951" desc="[perl #128951] Fix ASan error with @{\327"/>

<commit votes="sprout arc" id="9bde56224e82f20e7a65b3469b1ffb6b9f6d4df8" ticket="129196" desc="[perl #129196] Crash/bad read with ‘evalbytes S’"/>
<commit votes="sprout" id="a6128716d2cc20147851e0a37768376647bd3242" ticket="129196" desc="Regression test for RT #129196"/>

There doesn't seem to be a blead commit for this ticket, so nothing to backport. -arc
<commit votes="" id="" ticket="123878" desc="OPEN: Infinite recursion (+segfault) on die() after goto-ing out of __DIE__ handler"/>

</div>

<div><h3>Regression Fixes</h3>

<commit votes="khw arc" id="753b2c6a60a81dacbe59e2041e30e8302484dc2d" desc="Fix -Dr output regression"/>

NOTE from jhi: so the Time-HiRes in 5.24.1 has the broken version of Time-HiRes that is broken in OS X.  Possibilities:
[1] The smallish fix from https://rt.perl.org/Ticket/Display.html?id=128445 (blead c4a535af41823cc84534bf8dbecfdcc3eb7daa86) which upgrades 1.9734 to 1.9739
[2] Craig Berry's fix in https://marc.info/?l=perl5-porters;m=148305290013791 which upgrades 5.24 maint to version 1.9741, which has now been out for two months, and seems to be doing well: http://matrix.cpantesters.org/?dist=Time-HiRes+1.9741
NOTE from arc: I'd like to see this fixed in maint-5.24. Since the changes
in 1.9739 are already fairly involved, I'm inclined to think that the
additional risk of going to 1.9741 is limited. I therefore tentatively cast
a vote in favour of that approach.
<commit votes="jhi craigb xsawyerx alh" id="" desc="[cpan #120032] Doesn't compile with Perl 5.24.1 on OS/X"/>

NOTE from jhi: the following cluster of hexfp-related fixes
(in ascending time order) only makes sense as a unit, they all touch
the same code. I tried cherry-picking these onto maint-5.24, and only
the first one required manual backporting (available on request).
NOTE from arc: if it's reasonably possible to avoid the test-only changes
from this cluster, I'd prefer that. But I accept that may not be the case,
so I've voted for the cluster in total.
<commit votes="jhi arc" id="b6d9b423fab1963346eb79e83b356114396b1f2e" ticket="128843" desc="printf %a mishandles subnormals"/>
<commit votes="jhi arc" id="94d00769fba240ffb86f18b3d66341fb1d24ae6c" ticket="128843" desc="Add rt.perl.org reference for b6d9b423"/>
<commit votes="jhi arc" id="520f3e58c346a7bc3ef0509dfe0db206dae454ee" ticket="128843" desc="Comment fix for b6d9b423"/>
<commit votes="jhi arc" id="82229f9f47d9a169b59715582fb5a09b5a4ac0ff" ticket="128888" desc="printf %a mishandles zero precision"/>
<commit votes="jhi arc" id="a9ce335538454d590920dab8d62db84948f1fb83" ticket="128889" desc="printf %a mishandles negative pseudo-precision"/>
<commit votes="jhi arc" id="75326c485e9d40be5c22d508f581cdea68b244ce" ticket="128890" desc="printf %a rounds incorrectly"/>
<commit votes="jhi arc" id="be93048a43d87d317acca5b37619111b6a5f8c44" ticket="128893" desc="printf %a botches 0 flag for negative values"/>
<commit votes="jhi arc" id="749d85343f3cdb65891a5fe3b9f55ef3a5b03ca8" ticket="" desc="The new tests are valid only for IEEE 754 64-bit doubles."/>
<commit votes="jhi arc" id="5208a0305e9e82c534fa034515d54a0409dfcc77" ticket="" desc="Fix on top of 75326c48."/>
<commit votes="jhi arc" id="e3f7a67e8485950fdf5fd9c7131d0a78b6c8cf32" ticket="" desc="Test new hexfp fixes also on (x86 80-bit) long doubles."/>
<commit votes="jhi arc" id="44348173fce5aaf28fdf59ba6ace73ea435d9380" ticket="" desc="Bogus skip count."/>
<commit votes="jhi arc" id="ee58923a8531731f8acb98ab130abf41f75ebdc7" ticket="128909" desc="printf %a mishandles exponent-crossing rounding with long double"/>
<commit votes="jhi arc" id="9e67a8c1b21482ed5fada053dd462eb23320dc86" ticket="" desc="Avoid test noise on non-longdouble."/>
<commit votes="jhi arc" id="a149d1180209525972d84fd1a62f488da83e568a" ticket="128919" desc="limited exponent range in hex fp literal with long double"/>
<commit votes="jhi arc" id="7301378635b35757b228e07c14276afaf06a4728" ticket="" desc="Follow-up on a149d11"/>
<commit votes="jhi arc" id="f5a466613ec0b74a224adb5b7da6da0a74713596" ticket="" desc="Use library testing for subnormality"/>
<commit votes="jhi arc" id="f40ac91c3b9891b83f3d253861009c290584b646" ticket="" desc="Handle subnormals of x86 80-bit"/>
<commit votes="jhi arc" id="b28053d1f063cb783e73b0596d1f58a21681fda6" ticket="" desc="Define Perl_fp_class() for quadmath"/>
<commit votes="jhi arc" id="de1a8b537348227e83c8efd15d3cb36d9ac646f5" ticket="" desc="Test subnormals with quadmath"/>
<commit votes="jhi arc" id="dd1645173d8209e05c419b0f3edc9b1c0f9643a8" ticket="" desc="Do not deploy the fractional matching without fractions"/>
<commit votes="jhi arc" id="1bee6aebe39da1a4d681e8ea1b9d0329898a8407" ticket="" desc="Test data mistake was masked by mistaken fractional matching"/>

<commit votes="khw arc" id="1d4ea287e9a924ad1eaef98145b6d6c3b6219e80" ticket="128929" desc="Add casts to silence new in 5.23 Win32 warnings"/>
</div>

<div><h3>New Feature Fixes</h3>

</div>

<div><h3>Build and Installation Fixes</h3>

Should we not just backport 2d41a263 instead? And does 5.22 need this, too? --sprout
The entry above about [cpan #120032] is the same underlying issue, I think. --arc
<commit votes="" id="c4a535af41823cc84534bf8dbecfdcc3eb7daa86" desc="[perl #128972] Build failure on OS X 10.12 Sierra."/>

<commit votes="craigb jhi" id="f6a154ae766a3404d83b81448ca6a356d30198e1" desc="Treat VSI C the same as DEC/Compaq/HP C."/>

</div>

<div><h3>Portability Fixes</h3>

<commit votes="jhi" id="bf49eae4014ca7ff7b44362d99251f5b9f30bec8" desc="Perl_my_vsnprintf: avoid compiler warning"/>
<commit votes="steveh xsawyerx" id="8ed77d12c9275cd4e145ab50aaecf69730166a9b" desc="[perl #131726] [Win32] perl.h remaps 'strtoll' and 'strtoull' incorrectly"/>

</div>

<div><h3>Platform-Specific Test Fixes</h3>

</div>

<div><h3>Documentation Fixes</h3>

</div>

</data>

<xsl:stylesheet version="1.0" id="stylesheet" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:template match="xsl:stylesheet"/>
  <xsl:template match="/">
    <html>
      <head>
        <title>Cherry-pick votes for maint-5.24</title>
        <style>
          .accepted .ref a { color: #090 }
          .unvoted  .ref a { color: #c00 }
        </style>
      </head>
      <body>
        <h1>Cherry-pick votes for maint-5.24</h1>
        <xsl:for-each select="/doc/data/div">
          <h2><xsl:value-of select="h2"/></h2>
          <h3><xsl:value-of select="h3"/></h3>
          <table>
            <xsl:for-each select="commit|head">
              <xsl:choose>
                <xsl:when test="local-name() = 'commit'">
                  <tr>
                    <xsl:apply-templates select="@votes"/>
                    <td style="vertical-align: top; white-space: nowrap">
                      <xsl:value-of select="@votes"/>
                    </td>
                    <td class="ref" style="vertical-align: top">
                      <a href="http://perl5.git.perl.org/perl.git/commitdiff/{@id}">
                        <xsl:value-of select="@id"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <a href="https://rt.perl.org/Ticket/Display.html?id={@ticket}">
                        <xsl:value-of select="@ticket"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <xsl:value-of select="@desc"/>
                    </td>
                  </tr>
                </xsl:when>
                <xsl:when test="local-name() = 'head'">
                  <tr>
                    <xsl:apply-templates select="@votes"/>
                    <td style="vertical-align: top; white-space: nowrap">
                      <xsl:value-of select="@votes"/>
                    </td>
                    <td class="ref" style="vertical-align: top">
                      <a href="http://perl5.git.perl.org/perl.git/shortlog/refs/heads/{@branch}">
                        <xsl:value-of select="@branch"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <a href="https://rt.perl.org/Ticket/Display.html?id={@ticket}">
                        <xsl:value-of select="@ticket"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <xsl:value-of select="@desc"/>
                    </td>
                  </tr>
                </xsl:when>
              </xsl:choose>
            </xsl:for-each>
          </table>
        </xsl:for-each>
      </body>
    </html>
  </xsl:template>
  <xsl:template match="@votes">
    <xsl:choose>
      <xsl:when test=". = ''">
        <xsl:attribute name="class">unvoted</xsl:attribute>
      </xsl:when>
      <xsl:when test="substring-after(substring-after(normalize-space(translate(., ',', ' ')), ' '), ' ') != ''">
        <xsl:attribute name="class">accepted</xsl:attribute>
      </xsl:when>
    </xsl:choose>
  </xsl:template>
</xsl:stylesheet>

</doc>
